<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facilities Form</title>
</head>
<body>
    <h1>Facilities Booking</h1>
    <form action="/bookFacility" method="POST">
        <label for="facility">Facility:</label>
        <input type="text" id="facility" name="facility" required><br><br>
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required><br><br>
        <button type="submit">Book Facility</button>
    </form>

    <div id="facilities-list"></div>

    <script>
        fetch('/facilities') 
            .then(response => response.json())
            .then(facilities => {
                const facilitiesListElement = document.getElementById('facilities-list');
                facilitiesListElement.innerHTML = ''; 

                facilities.forEach(facility => {
                    const facilityElement = document.createElement('div');
                    facilityElement.textContent = `Facility booked: ${facility.facility} on ${facility.date}`;
                    facilitiesListElement.appendChild(facilityElement);
                });
            })
            .catch(error => console.error('Error fetching facilities:', error));
    </script>
</body>
</html>
